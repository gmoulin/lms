window.log=function(){log.history=log.history||[];log.history.push(arguments);arguments.callee=arguments.callee.caller;if(this.console){console.log(Array.prototype.slice.call(arguments))}};(function(c){c.fn.spinbox=function(f){if(f&&typeof(f)==="String"&&f==="destroy"){return this.unbind(".spinbox").removeClass(f.spinboxClass).removeClass(f.upClass).removeClass(f.downClass).removeClass(f.upHoverClass).removeClass(f.downHoverClass).removeData("spinboxMin").removeData("spinboxMax").removeData("spinboxReset").removeData("spinboxStep").removeData("spinboxBigStep")}var g;f=c.extend({},c.fn.spinbox.defaults,f);this.each(function(){var m=c(this),j=d("spinboxMin",this),h=d("spinboxMax",this),l=d("spinboxStep",this),i=d("spinboxBigStep",this),k=d("spinboxReset",this),n=d("spinboxScale",this);if(j===g){j=b(m.attr("min"),f.min)}if(h===g){h=b(m.attr("max"),f.max)}if(!l){l=b(m.attr("step"),f.step)}if(!i){i=b(m.attr("bigStep"),f.bigStep)}if(k===g){k=b(f.reset,m.val(),j,h)}if(n===g){n=m.data("spinboxScale")}n=(n||e(n))?n:f.scale;if(n===true){n=(l.toString().split(".")[1]||"").length}m.data("spinboxMin",j);m.data("spinboxMax",h);m.data("spinboxStep",l);m.data("spinboxBigStep",i);m.data("spinboxReset",k);m.data("spinboxScale",n)});return this.each(function(){var k,o,h,m;var n=c(this);n.bind("mousemove.spinbox",function(s){var r=c(this);var t=r.offset();var p=r.height()/2;var q=(s.pageX>t.left+r.width()-f.buttonWidth);k=q&&(s.pageY<=t.top+p);o=q&&(s.pageY>t.top+p);r.toggleClass(f.upHoverClass,k).toggleClass(f.downHoverClass,o)}).bind("mouseout.spinbox",function(){i();c(this).removeClass([f.upClass,f.downClass,f.upHoverClass,f.downHoverClass].join(" "));k=o=null}).bind("mousedown.spinbox",function(p){if(k||o){c(this).toggleClass(f.upClass,k).toggleClass(f.downClass,o);l.apply(this,[p]);j(this,p)}}).bind("mouseup.spinbox",function(p){i();c(this).removeClass(f.upClass).removeClass(f.downClass)}).bind("keydown.spinbox",function(t){if(!f.keys||c.grep(f.keys,function(u){return u===t.keyCode||(u instanceof RegExp&&u.test(String.fromCharCode(t.keyCode)))}).length){var s=c(this);var q={up:38,down:40,pageUp:33,pageDown:34};var p=s.data("spinboxBigStep");var r=t.shiftKey?p:s.data("spinboxStep");switch(t.keyCode){case q.up:l.apply(this,[t,r,1]);break;case q.down:l.apply(this,[t,r,-1]);break;case q.pageUp:l.apply(this,[t,p,1]);break;case q.pageDown:l.apply(this,[t,p,-1]);break}}else{return !f.keys}}).bind("change.spinbox",function(p){if(c(this).val()!=""){l.apply(this,[p,0])}}).bind("focus",function(p){if(c(this).val()==""){c(this).val(f.min).focus()}}).addClass(f.spinboxClass);if(f.mousewheel){c(this).bind("mousewheel.spinbox DOMMouseScroll.spinbox",function(q){var p=q.shiftKey?c(this).data("spinboxBigStep"):c(this).data("spinboxStep");if(q.detail<0||q.wheelDelta>=120){l.apply(this,[q,p,1])}else{if(q.detail>0||q.wheelDelta<=-120){l.apply(this,[q,p,-1])}}return false})}l.apply(this,[c.Event(),0]);function l(u,r,w){var p=c(this);if(f.ignore&&p.is(f.ignore)){return}r=b(r,p.data("spinboxStep"),1);w=w||(o?-1:1);var x=p.val();var q=b(x,p.data("spinboxReset"),0);var s=b(p.data("spinboxMin"));var v=b(p.data("spinboxMax"));var t=[q,r,s,v,w,x,f];if(w>0){q=f.increment.apply(this,t)}else{if(w<0){q=f.decrement.apply(this,t)}}if(e(p.data("spinboxScale"))&&f.round){q=f.round(q,p.data("spinboxScale"))}if(e(s)){q=Math.max(q,s)}if(e(v)){q=Math.min(q,v)}var t=[q,r,s,v,w,x,f];if(q!=x&&p.triggerHandler("beforeSpin",t)!==false){p.val(q);if(f.change){p.trigger("change",t)}p.triggerHandler("spin",t);p.removeClass("placeheld")}}function j(p,q){i();h=window.setTimeout(function(){l.apply(p,[q]);m=window.setInterval(function(){l.apply(p,[q])},f.repeat)},f.delay)}function i(){window.clearTimeout(h);window.clearInterval(m)}})};function e(f){return !isNaN(parseFloat(f))}function b(f){for(var g=0;g<arguments.length;g++){if(e(arguments[g])){return Number(parseFloat(arguments[g]))}}return}function d(g,j){var i=c(j||this).attr("class"),h=new RegExp("(\\b"+g+")(\\S*)").exec(i),f={"true":true,True:true,"false":false,False:false};
if(h&&h.length>=3&&f[h[3]]!==undefined){h[3]=f[h[3]]}return !h?undefined:h.length>=3?h[2]:null}c.fn.spinbox.defaults={min:0,max:null,step:1,bigStep:10,keys:[/[0-9]/,9,13,8,46,33,34,37,38,39,40,109,188,190],ignore:"[readonly],[disabled]",spinboxClass:"spinbox-active",upClass:"spinbox-up",downClass:"spinbox-down",upHoverClass:"spinbox-up-hover",downHoverClass:"spinbox-down-hover",mousewheel:true,change:true,increment:function(j,i,h,f,g){return j+i},decrement:function(j,i,h,f,g){return j-i},reset:null,delay:500,repeat:100,buttonWidth:20,scale:true,round:function a(f,g){return Math.round(f*Math.pow(10,g))/Math.pow(10,g)}}})(jQuery);(function(a){a.fn.render=function(b){var j=function(){var o=["Moz","Webkit","Khtml","O","Ms"],n=["-moz-","-webkit-","-khtml-","-o-","-ms-"],m={};return function(t){el=document.documentElement;var s=el.style,p,q,r;if(arguments.length===1&&typeof m[t]==="string"){return m[t]}if(typeof s[t]==="string"){return m[t]=t}p=t.charAt(0).toUpperCase()+t.slice(1);r=o.length;for(q=0;q<r;q++){if(typeof s[o[q]+p]==="string"){return m[t]=n[q]+t}}}}();var l=this,k,i,f,h,g={},e={},c={translate:Modernizr.csstransforms3d?function(m){return"translate3d("+m[0]+"px, "+m[1]+"px, 0)"}:function(m){return"translate("+m[0]+"px, "+m[1]+"px)"},rules:function(o,n){var m={};m[j(o)]=c.translate(n);return m},initRow:function(m){e.rows[e.currentRow]={width:0,height:m,elements:[]}}},d={init:function(m){e=a.extend({},g,m);return this.each(function(){k=a(this);i=k.children();d.create();d.resetLayout();d.layout()})},create:function(){a("#holder").remove();f=a("<div>",{id:"holder","class":k.parent().attr("class")}).removeClass("listContent");var m=i.eq(0).clone().css({"background-image":null}).empty();m.append(a("<div>",{"class":"block"}));f.append(m);f.appendTo("body");e.styles=[];k.addClass("rendered").css({position:"relative",});i.css({position:"absolute",top:0,left:"50%"})},relayout:function(){return this.each(function(){k=a(this);i=k.children().css({position:"absolute",top:0,left:"50%"});f=a("#holder");d.resetLayout();d.layout()})},layout:function(){e.styles.push({$el:k,styles:{visibility:"visible"}});h=k.parent().hasClass("hasCovers");e.width=k.width();e.holderOuterWidth=f.children().outerWidth(true);e.holderOuterHeight=f.children().outerHeight(true);i.each(function(){var m=a(this);if(!h){e.holderOuterWidth=m.outerWidth(true)}if(e.rows[e.currentRow].width+e.holderOuterWidth>e.width){e.currentRow++;c.initRow(e.rows[e.currentRow-1].height+e.holderOuterHeight)}e.rows[e.currentRow].width+=e.holderOuterWidth;e.rows[e.currentRow].elements.push(m)});a.each(e.rows,function(m,n){e.pos.x=(e.width/2)*-1+(e.width-n.width)/2;e.pos.y=n.height;a.each(n.elements,function(p,o){e.styles.push({$el:o,styles:c.rules("transform",[e.pos.x,e.pos.y])});if(!h){e.pos.x+=o.outerWidth(true)}else{e.pos.x+=e.holderOuterWidth}})});a.each(e.styles,function(m,n){n.$el.css(n.styles)});e.rows=[];e.styles=[]},resetLayout:function(){e.pos={x:0,y:0,height:0};e.styles=[];e.rows=[];e.currentRow=0;c.initRow(0)}};if(d[b]){return d[b].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof b==="object"||!b){return d.init.apply(this,arguments)}else{a.error('Method "'+b+'" does not exist in render plugin!')}}}})(jQuery);